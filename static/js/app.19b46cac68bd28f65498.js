webpackJsonp([1],{35:function(t,i,n){function e(t){n(80)}var s=n(33)(n(39),n(89),e,null,null);t.exports=s.exports},37:function(t,i,n){"use strict";var e=n(43),s=n.n(e),o=n(44),r=n.n(o),a=function(){function t(i,n){s()(this,t),this.x=i,this.y=n}return r()(t,[{key:"compare",value:function(t){return this.y===t.y?this.x-t.x:this.y-t.y}}]),t}();i.a=a},38:function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=n(36),s=n(35),o=n.n(s);e.a.config.productionTip=!1,new e.a({el:"#app",template:"<App/>",components:{App:o.a}})},39:function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=n(88),s=n.n(e);i.default={name:"app",components:{Drawable:s.a}}},40:function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=n(45),s=n.n(e),o=n(16),r=n.n(o),a=n(37),h=n(46),c=n.n(h);i.default={mounted:function(){this.canvas=this.$refs.canvas,this.context=this.canvas.getContext("2d"),this.restart()},data:function(){return{canvas:{},context:{},canvasHeight:500,canvasWidth:900,overPoint:null,dragMode:!1,finishedGame:!1,connectedWithOverPoint:null,pointSize:10,pointsCount:10,intersectedCount:0,strokeStyle:"darkgrey",fillStyle:"#fff",lines:[],points:[],edges:null}},computed:{},methods:{restart:function(){this.lines=[],this.edges=null,this.finishedGame=!1,this.clearPoints(),this.generatePoints(),this.triangulate(),this.arrangePoints(),this.connectPoints(),this.drawAllNodes()},matchPoints:function(t,i){return!(i.x>t.x+this.pointSize)&&(!(i.x<t.x-this.pointSize)&&(!(i.y>t.y+this.pointSize)&&!(i.y<t.y-this.pointSize)))},clear:function(){this.context.clearRect(0,0,this.canvasWidth,this.canvasHeight)},easyLevel:function(){this.pointsCount=8,this.restart()},fairLevel:function(){this.pointsCount=10,this.restart()},toughLevel:function(){this.pointsCount=15,this.restart()},crazyLevel:function(){this.pointsCount=30,this.restart()},clearPoints:function(){this.points=[],this.clear()},getMousePos:function(t){var i=this.context.canvas.getBoundingClientRect();return{x:parseInt((t.clientX-i.left)/(i.right-i.left)*this.canvasWidth),y:parseInt((t.clientY-i.top)/(i.bottom-i.top)*this.canvasHeight)}},mouseup:function(t){var i=this,n=this.getMousePos(t);this.dragMode&&this.overPoint?(this.dragPoint(this.overPoint,n),this.dragMode=!1,this.points.forEach(function(t){i.drawCircle(t,i.pointSize)}),0!==this.intersectedCount||this.finishedGame||this.playWin()):this.connectedWithOverPoint=null},dragPoint:function(t,i){var n=this;this.finishedGame||this.points.map(function(e){e.x===t.x&&e.y===t.y&&(e.x=i.x,e.y=i.y,n.clear(),n.drawAllNodes())})},mousemove:function(t){var i=this.getMousePos(t);this.dragMode&&this.overPoint&&this.dragPoint(this.overPoint,i)},mousedown:function(t){var i=this.getMousePos(t);this.isMouseOnNode(i)?(this.findConnectedWithOverPoint(),this.dragMode=!0):this.dragMode=!1},isMouseOnNode:function(t){return null!==this.selectedPoint(t)},selectedPoint:function(t){var i=!0,n=!1,e=void 0;try{for(var s,o=r()(this.points);!(i=(s=o.next()).done);i=!0){var a=s.value;if(this.matchPoints(a,t))return this.overPoint=a,a}}catch(t){n=!0,e=t}finally{try{!i&&o.return&&o.return()}finally{if(n)throw e}}return this.overPoint=null,null},addNode:function(t){this.context.save(),this.drawNode(t),this.context.restore(),this.points.push(t)},isIntersect:function(t,i){var n=t.endPoint.y-t.startPoint.y,e=t.startPoint.x-t.endPoint.x,s=n*t.startPoint.x+e*t.startPoint.y,o=i.endPoint.y-i.startPoint.y,r=i.startPoint.x-i.endPoint.x,a=o*i.startPoint.x+r*i.startPoint.y,h=n*r-o*e;if(0===h)return!1;var c=(r*s-e*a)/h,u=(n*a-o*s)/h;return!(!this.isInBetween(t.startPoint.x,c,t.endPoint.x)&&!this.isInBetween(t.startPoint.y,u,t.endPoint.y)||!this.isInBetween(i.startPoint.x,c,i.endPoint.x)&&!this.isInBetween(i.startPoint.y,u,i.endPoint.y))},isInBetween:function(t,i,n){return!(Math.abs(t-i)<1e-6||Math.abs(i-n)<1e-6)&&(t<i&&i<n||n<i&&i<t)},drawNode:function(t){this.context.beginPath(),this.context.moveTo(t.x-this.pointSize,t.y-this.pointSize),this.context.lineTo(t.x-this.pointSize,t.y+this.pointSize),this.context.lineTo(t.x+this.pointSize,t.y+this.pointSize),this.context.lineTo(t.x+this.pointSize,t.y-this.pointSize),this.context.lineTo(t.x-this.pointSize,t.y-this.pointSize),this.context.fillStyle=this.fillStyle,this.context.fill(),this.context.strokeStyle=this.strokeStyle,this.context.stroke()},findConnectedWithOverPoint:function(){var t=this;if(!this.connectedWithOverPoint||this.connectedWithOverPoint.overPoint!==this.overPoint){var i=[];this.lines.forEach(function(n){var e=n.startPoint,s=n.endPoint;n.isIntersected;e===t.overPoint?i.push(s):s===t.overPoint&&i.push(e)}),this.connectedWithOverPoint={overPoint:this.overPoint,connectedPoints:i}}},isPointConnectWithOverPoint:function(t){return this.overPoint===t||!!this.connectedWithOverPoint&&(!(!this.connectedWithOverPoint.connectedPoints||!this.connectedWithOverPoint.connectedPoints.includes(t))||void 0)},drawCircle:function(t,i){this.context.fillStyle=this.isPointConnectWithOverPoint(t)&&this.dragMode?"#DA0":"#d46",this.context.beginPath(),this.context.arc(t.x,t.y,i,0,2*Math.PI,!0),this.context.closePath(),this.context.fill()},Line:function(t,i,n){return{startPoint:t,endPoint:i,isIntersected:n}},drawLine:function(t,i,n,e,s){this.context.beginPath(),this.context.moveTo(t,i),this.context.lineTo(n,e),this.context.lineWidth=2,this.context.strokeStyle=s?"navy":"#43e3bc",this.context.stroke()},generatePoints:function(){for(var t=0;t<this.pointsCount;t++){var i=30+Math.floor(Math.random()*(this.canvasWidth-60)),n=30+Math.floor(Math.random()*(this.canvasHeight-60));this.points.push(new a.a(i,n))}},arrangePoints:function(){for(var t=0;t<this.pointsCount-4;t++){var i=Math.floor(this.canvasWidth/2+150*Math.cos(2*Math.PI*t/(this.pointsCount-4))),n=Math.floor(this.canvasHeight/2+150*Math.sin(2*Math.PI*t/(this.pointsCount-4)));this.points[t]=new a.a(i,n)}for(var e=0;e<4;e++){var s=Math.floor(this.canvasWidth/2+70*Math.cos(2*Math.PI*e/4)),o=Math.floor(this.canvasHeight/2+70*Math.sin(2*Math.PI*e/4));this.points[this.pointsCount-e-1]=new a.a(s,o)}},connectPoints:function(){var t=this;this.lines=[],this.edges.forEach(function(i){var n=s()(i,2),e=n[0],o=n[1];t.lines.push(t.Line(t.points[e],t.points[o],!1))})},triangulate:function(){this.lines=[];var t=this.points.map(function(t){return[t.x,t.y]}),i=c()(t,this.edges||[],{exterior:!0}),n=[];i.forEach(function(t){var i=s()(t,3),e=i[0],o=i[1],r=i[2];n.push([e,o]),n.push([o,r]),n.push([r,e])}),this.edges||(this.edges=n)},playWin:function(){this.finishedGame=!0,new Audio("https://ibrahim.github.io/untangled/static/tada.mp3").play()},updateLineIntersection:function(){this.intersectedCount=0;for(var t=0;t<this.lines.length;t++){var i=this.lines[t];i.isIntersected=!1;for(var n=0;n<t;n++){var e=this.lines[n];this.isIntersect(i,e)&&(this.intersectedCount=this.intersectedCount+1,i.isIntersected=!0,e.isIntersected=!0,this.lines[t]=i,this.lines[n]=e)}}},drawAllLines:function(){var t=this;this.updateLineIntersection(),this.lines.forEach(function(i){var n=i.startPoint,e=i.endPoint,s=i.isIntersected;t.drawLine(n.x,n.y,e.x,e.y,s)})},drawAllNodes:function(){this.context.save(),this.connectPoints(),this.drawAllLines();var t=!0,i=!1,n=void 0;try{for(var e,s=r()(this.points);!(t=(e=s.next()).done);t=!0){var o=e.value;this.drawCircle(o,this.pointSize)}}catch(t){i=!0,n=t}finally{try{!t&&s.return&&s.return()}finally{if(i)throw n}}this.context.restore()}}}},80:function(t,i){},81:function(t,i){},88:function(t,i,n){function e(t){n(81)}var s=n(33)(n(40),n(90),e,null,null);t.exports=s.exports},89:function(t,i){t.exports={render:function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"ui",attrs:{id:"app"}},[n("drawable")],1)},staticRenderFns:[]}},90:function(t,i){t.exports={render:function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"flex"},[n("div",[t._m(0,!1,!1),t._v(" "),n("div",[n("button",{on:{click:t.restart}},[t._v("Restart Game")]),t._v(" "),n("button",{on:{click:t.easyLevel}},[t._v("Easy")]),t._v(" "),n("button",{on:{click:t.fairLevel}},[t._v("Fair")]),t._v(" "),n("button",{on:{click:t.toughLevel}},[t._v("Tough")]),t._v(" "),n("button",{on:{click:t.crazyLevel}},[t._v("Crazy")])])]),t._v(" "),n("div",{staticClass:"canvas-container"},[t.finishedGame?n("div",{staticClass:"youwin"},[t._v("You Win")]):t._e(),t._v(" "),n("canvas",{ref:"canvas",attrs:{width:t.canvasWidth,height:t.canvasHeight},on:{mousedown:t.mousedown,mouseup:t.mouseup,mousemove:t.mousemove}})])])},staticRenderFns:[function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("h3",[n("a",{attrs:{href:"https://github.com/ibrahim/untangled"}},[t._v("Untangled")])])}]}}},[38]);
//# sourceMappingURL=app.19b46cac68bd28f65498.js.map